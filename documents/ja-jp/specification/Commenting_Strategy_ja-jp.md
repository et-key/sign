# Sign言語のコメント規則 (改訂版)

## 基本原則

Sign言語におけるコメントは、**「構文上の特別なマーカー」ではなく、「評価結果が使用されないリテラル」** として定義されます。
これにより、コードの構造そのものがドキュメントとして機能します。

## ルール定義

### 1. 文字列リテラルは常に「式」である
バッククォート（`` ` ``）で囲まれた文字列、または未閉のバッククォートから行末までの文字列は、すべて「文字列リテラル（値）」として解析されます。

### 2. 「使用されない」リテラルはコメントとみなされる
プログラムの実行において、その値が何にもバインドされず、副作用（出力など）も持たず、戻り値にもならない場合、そのリテラルは実質的にコメントとなります。

## 適用例

### A. ブロック内（`\t` インデント）
ブロックは複数の式のシーケンスであり、**最後の式のみ**がブロックの戻り値となります。
それ以前の式は、副作用がない限り無視されます。

```sign
calc_func :
	`ここは関数のドキュメント（コメント）として機能する`
	`引数の説明などもここに書ける`
	x * 2  `<- これが戻り値`
```
-> 上記の文字列は評価されますが、捨てられるためコメントとして機能します。

### B. トップレベル
トップレベルも1つの大きなブロック（またはモジュール定義）とみなせます。

```sign
`モジュールの説明`
x : 1
```
-> この文字列も、`x` の定義に影響を与えないため、ドキュメントとして機能します。
（ただし、REPL環境などでは評価結果が表示される可能性があります）

### C. ユーザー提示の例の解釈

```sign
    `これはコメント扱いにならない`
	`これならコメントである`
```

1. **インデントなし（またはスペース）**: 文脈によりますが、式として評価されます。定義の右辺であれば値になります。
2. **`\t` インデント**: ブロックの開始を意味します。ブロック内の **先頭にある** 文字列は、後続に式があれば「捨てられる値」となり、コメントになります。

## 矛盾の解消
旧版では「インデントされた文字列リテラルはエラー」としていましたが、これは廃止します。
現在は **「インデントされたブロック内に文字列リテラルを書くことは正当であり、それが戻り値でない限りコメントとして扱われる」** となります。

## 文法仕様（PEG参照）

すべて `Expression` としてパースされます。
- `Comment` という独立した構文ノードは存在しません（字句解析レベルで消えるコメントを除く）。
- シンタックスハイライトやLanguage Serverは、**「ブロックの最後以外の文字列リテラル」** をコメント色で表示することが推奨されます。