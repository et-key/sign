# デバッグ環境構築ファイル
## 使い方

1. VSCodeでプロジェクトを開く
2. ソースコード（例: `src/main.cpp`や`src/preprocessor/preprocessor.cpp`）を開く
3. ブレークポイントを設定したい行の左側をクリック（赤い丸が表示される）
4. ターミナル → タスクの実行 → "Build Sign Compiler" を選択してビルド
5. F5キーを押すか、左側の「実行とデバッグ」アイコンをクリックしてデバッグを開始
6. ドロップダウンから「(gdb) Launch Sign Compiler」を選択

これでブレークポイントで停止し、変数値の確認やステップ実行などのデバッグ機能が使えるようになります。

### 注意点

- パスは環境に合わせて調整してください（特にgdbのパス）
- ビルドに失敗する場合は、`build.bat`の内容を確認してください
- VSCodeが再起動を求めてきた場合は、再起動してください
- デバッグ時に変数が表示されない場合、「表示」→「外観」→「セカンダリサイドバー」にチェックで変数タブが表示されます

## セカンダリサイドバーについての補足情報

- **セカンダリサイドバー**は、画面の右側に表示される追加のサイドバーで、デバッグ時に変数、ウォッチ式、コールスタックなどを表示するのに最適です
- この設定は保存されるので、次回のデバッグセッションでも自動的に表示されます
- 必要に応じて `Ctrl+Shift+'` (Ctrlキー + Shiftキー + シングルクォート) でセカンダリサイドバーの表示/非表示を切り替えることができます

## 他の便利なデバッグ表示オプション

- **ホバーデバッグ**: コード中の変数にマウスを合わせると、デバッグ中はその場で値が表示されます
- **インライン値表示**: 設定で `debug.inlineValues` を有効にすると、コード行の右側に変数の値が表示されます
- **ピン留め変数**: 変数ビュー内で変数を右クリックして「ウォッチに追加」を選択すると、特定の変数を常に監視できます

# tasks.jsonの必要性について

tasks.jsonは必須ではありませんが、あると便利な機能を提供します。

## tasks.jsonなしでも可能なこと

- `build.bat`や`run-test.bat`をターミナルから直接実行できます
- `launch.json`だけでF5キーを押してデバッグを開始できます

## tasks.jsonがあると便利な点

1. **ショートカットキーでビルド実行**
   - Ctrl+Shift+B でビルドタスクを実行できる
   - ビルドメニューからタスクを選択できる

2. **デバッグと連携**
   - launch.jsonの`preLaunchTask`を設定すると、デバッグ前に自動的にビルドが実行される
   ```json
   "preLaunchTask": "Build Sign Compiler"
   ```

3. **複数のタスク管理**
   - ビルド、テスト実行、クリーンなど複数の操作をVSCode内で管理できる

## 結論

- **シンプルさ重視**: なくても大丈夫です。バッチファイルを直接実行してF5でデバッグ
- **操作の効率化**: あると便利です。特にF5を押す前に最新のコードでビルドを自動実行できます

既に`build.bat`と`run-test.bat`でビルドと実行が管理されているので、シンプルな環境を好む場合はtasks.jsonなしでも問題ありません。必要に応じて後から追加することも簡単です。